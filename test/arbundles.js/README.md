# Arbundles.js Interoperability Tests

This directory contains scripts for testing the interoperability between HyperBEAM's Erlang-based ANS-104 implementation and the  `@dha-team/arbundles` library.

## Purpose

The primary goal of these scripts is to ensure that bundles created by one system can be correctly read and validated by the other.

*   `gen-bundles.js`: This script uses the `@dha-team/arbundles` library to generate several types of bundle files (`.bundle`). 
*   `validate-bundle.js`: This script is a utility for reading and validating any ANS-104 bundle file. It checks the cryptographic validity of all items in the bundle and prints their contents. It is primarily used to validate bundles generated by the Erlang tests in HyperBEAM.

## Setup

Before running the scripts, you need to install the necessary Node.js packages. From within this directory (`test/arbundles.js`), run:

```bash
npm install
```

## Usage

### Generating Test Bundles

To generate the test bundle files for consumption by the Erlang tests, run the following command from this directory:

```bash
node gen-bundles.js
```

This will create three files in this directory:
*   `ans104-list-bundle.bundle`
*   `ans104-single-list-bundle.bundle`
*   `ans104-map-bundle.bundle`

### Validating a Bundle File

To validate a bundle file generated by the Erlang tests, run the `validate-bundle.js` script from this directory and pass the path to the file as an argument.

For example:

```bash
node validate-bundle.js ../ans104-map-bundle-erlang.bundle
```
